define(["jquery","core/str"],function(e,i){return{init:function(a){i.get_strings([{key:"showallsectionperpage",component:"format_remuiformat"}]).done(function(i){e(document).ready(function(){e("#id_remuicourseformat").change(function(){if(0==e("#id_remuicourseformat").val())e("#id_coursedisplay option[value='0']").remove(),e("#id_coursedisplay").val(1).trigger("change"),e("#id_remuicourseimage_filemanager").parent().parent().hide(),e("#id_remuiteacherdisplay").parent().parent().hide(),e("#id_remuidefaultsectionview").parent().parent().hide();else{e("#id_coursedisplay").append('<option value="0">'+i[0]+"</option>");var a=window.localStorage.getItem("coursedisplay");e("#id_coursedisplay").val(a).trigger("change"),e("#id_remuicourseimage_filemanager").parent().parent().show(),e("#id_remuiteacherdisplay").parent().parent().show()}1==e("#id_coursedisplay").val()?e("#id_remuidefaultsectionview").parent().parent().hide():e("#id_remuidefaultsectionview").parent().parent().show()});var a=e("#id_remuicourseformat").val();window.localStorage.setItem("coursedisplay",e("#id_coursedisplay").val()),0==a?(e("#id_coursedisplay").find("option").eq(1).hide(),e("#id_remuicourseimage_filemanager").parent().parent().hide(),e("#id_remuiteacherdisplay").parent().parent().hide(),e("#id_remuidefaultsectionview").parent().parent().hide()):(e("#id_remuicourseimage_filemanager").parent().parent().show(),e("#id_remuiteacherdisplay").parent().parent().show(),1==e("#id_coursedisplay").val()&&e("#id_remuidefaultsectionview").parent().parent().hide()),e("#id_coursedisplay").change(function(){1==e("#id_coursedisplay").val()?e("#id_remuidefaultsectionview").parent().parent().hide():e("#id_remuidefaultsectionview").parent().parent().show()})})}).fail(function(){})}}});